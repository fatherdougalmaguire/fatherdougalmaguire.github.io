/*!
 * jQCloud Plugin for jQuery
 *
 * Version 1.0.5
 *
 * Copyright 2011, Luca Ongaro
 * Licensed under the MIT license.
 *
 * Date: 2025-01-13 11:07:00 -0500
*/
!function(C){"use strict";C.fn.jQCloud=function(y,k){var R=this,b=R.attr("id")||Math.floor(1e6*Math.random()).toString(36),t={width:R.width(),height:R.height(),center:{x:(k&&k.width?k.width:R.width())/2,y:(k&&k.height?k.height:R.height())/2},delayedMode:50<y.length,shape:!1,encodeURI:!0,removeOverflowing:!0};k=C.extend(t,k||{}),R.addClass("jqcloud").width(k.width).height(k.height),"static"===R.css("position")&&R.css("position","relative");var e=function(){for(var m=function(t,e){var n=function(t,e){return Math.abs(2*t.offsetLeft+t.offsetWidth-2*e.offsetLeft-e.offsetWidth)<t.offsetWidth+e.offsetWidth&&Math.abs(2*t.offsetTop+t.offsetHeight-2*e.offsetTop-e.offsetHeight)<t.offsetHeight+e.offsetHeight},h=0;for(h=0;h<e.length;h++)if(n(t,e[h]))return!0;return!1},t=0;t<y.length;t++)y[t].weight=parseFloat(y[t].weight,10);y.sort(function(t,e){return t.weight<e.weight?1:t.weight>e.weight?-1:0});var v="rectangular"===k.shape?18:2,M=[],x=k.width/k.height,e=function(t,e){var n,h=b+"_word_"+t,i=6.28*Math.random(),o=0,r=0,a=0,f=5,s="",d="";if(e.html=C.extend(e.html,{id:h}),e.html&&e.html["class"]&&(s=e.html["class"],delete e.html["class"]),y[0].weight>y[y.length-1].weight&&(f=Math.round((e.weight-y[y.length-1].weight)/(y[0].weight-y[y.length-1].weight)*9)+1),n=C("<span>").attr(e.html).addClass("w"+f+" "+s),e.link?("string"==typeof e.link&&(e.link={href:e.link}),k.encodeURI&&(e.link=C.extend(e.link,{href:encodeURI(e.link.href).replace(/'/g,"%27")})),d=C("<a>").attr(e.link).text(e.text)):d=e.text,n.append(d),e.handlers)for(var l in e.handlers)e.handlers.hasOwnProperty(l)&&"function"==typeof e.handlers[l]&&C(n).bind(l,e.handlers[l]);R.append(n);var c=n.width(),g=n.height(),u=k.center.x-c/2,p=k.center.y-g/2,w=n[0].style;for(w.position="absolute",w.left=u+"px",w.top=p+"px";m(n[0],M);){if("rectangular"===k.shape)switch(++r*v>(1+Math.floor(a/2))*v*(a%4%2==0?1:x)&&(r=0,a++),a%4){case 1:u+=v*x+2*Math.random();break;case 2:p-=v+2*Math.random();break;case 3:u-=v*x+2*Math.random();break;case 0:p+=v+2*Math.random()}else o+=v,i+=(t%2==0?1:-1)*v,u=k.center.x-c/2+o*Math.cos(i)*x,p=k.center.y+o*Math.sin(i)-g/2;w.left=u+"px",w.top=p+"px"}k.removeOverflowing&&(u<0||p<0||u+c>k.width||p+g>k.height)?n.remove():(M.push(n[0]),"function"==typeof e.afterWordRender&&e.afterWordRender.call(n))},n=function(t){t=t||0,R.is(":visible")?t<y.length?(e(t,y[t]),setTimeout(function(){n(t+1)},10)):"function"==typeof k.afterCloudRender&&k.afterCloudRender.call(R):setTimeout(function(){n(t)},10)};k.delayedMode?n():(C.each(y,e),"function"==typeof k.afterCloudRender&&k.afterCloudRender.call(R))};return setTimeout(function(){e()},10),R}}(jQuery);